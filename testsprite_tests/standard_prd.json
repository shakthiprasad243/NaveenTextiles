{
  "meta": {
    "project": "Naveen Textiles E-commerce Platform",
    "date": "2025-12-05",
    "prepared_by": "Naveen Textiles Development Team"
  },
  "product_overview": "Naveen Textiles is a premium e-commerce platform specialized in textile retail. It features a comprehensive product catalog with variants, a seamless shopping cart and checkout process integrated with WhatsApp ordering, robust user authentication via Supabase, and a full-featured admin dashboard for managing products, orders, offers, and users. The platform supports real-time stock and order management, providing a rich user experience with promotional offers and invoice generation.",
  "core_goals": [
    "Provide a seamless e-commerce experience for textile customers with easy browsing, variant selection, and smooth checkout.",
    "Enable administrators to efficiently manage products, monitor inventory, process orders, and run promotions from a unified dashboard.",
    "Ensure secure and scalable user authentication and authorization using Supabase Auth with role-based access (guest, customer, admin).",
    "Deliver real-time updates on product stock and order status with integrated order tracking for customers.",
    "Integrate WhatsApp for simplified checkout communication and offer management to boost sales."
  ],
  "key_features": [
    "Comprehensive Product Catalog with multiple sizes, colors, stock variants, and image galleries.",
    "User Authentication and Registration using Supabase with support for admin roles.",
    "Client-side Shopping Cart with add, remove, update quantity, and clear functionalities.",
    "Checkout flow with customer detail collection and WhatsApp-integrated ordering.",
    "Order Management with live status updates, invoice generation, history tracking, and admin controls.",
    "Admin Dashboard featuring metrics, product and order CRUD operations, user management, and offer handling.",
    "Offers & Promotions system including coupon codes with multiple discount types (percentage, fixed, BOGO).",
    "Homepage Hero Carousel, navigation header with cart and user menus, and footer with informational links.",
    "Static informational pages covering FAQs, contact, shipping, returns, privacy policy, and terms.",
    "API Health Checks and utilities for validation, rate limiting, and logging."
  ],
  "user_flow_summary": [
    "User visits homepage and browses featured products and offers.",
    "User searches or filters product catalog; views product details including images, variants, and stock status.",
    "User adds product variants to shopping cart and reviews items in the cart page.",
    "User proceeds to checkout, enters customer information, and places order via WhatsApp integration.",
    "User registers or logs in using email/password authentication, gaining access to profile and order history.",
    "Admin logs into admin dashboard to manage products, offers, orders, users, and view sales analytics.",
    "Admin updates order statuses and generates invoices; manages stock levels automatically on order changes.",
    "User tracks order status and views detailed order history from account section."
  ],
  "validation_criteria": [
    "Products display correct variant details including stock status and pricing.",
    "Authentication flows allow user registration, login, and session persistence; admin role verified accurately.",
    "Shopping cart functions correctly with add, remove, update quantity, and clearing capabilities.",
    "Checkout process captures required customer information and sends order details via WhatsApp.",
    "Order management updates status changes correctly and reflects on user account and admin dashboard.",
    "Offers are created, applied, and displayed properly with valid discount calculations.",
    "Administrative CRUD operations for products, orders, offers, and users work without errors.",
    "Invoices generate properly for single and bulk orders with correct data.",
    "API endpoints respond with expected data including health checks and reset database operations.",
    "Stock quantities update correctly on order creation and cancellation, ensuring no overselling occurs."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 14",
      "React 18",
      "Supabase (PostgreSQL, Auth)",
      "Tailwind CSS",
      "Lucide React Icons"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "User authentication with email/password login, registration, session management, and admin role support using Supabase Auth",
        "files": [
          "src/context/AuthContext.tsx",
          "src/app/login/page.tsx",
          "src/app/api/auth/login/route.ts",
          "src/app/api/auth/register/route.ts",
          "src/lib/supabase.ts",
          "src/lib/supabase-admin.ts",
          "src/lib/admin-auth.ts"
        ]
      },
      {
        "name": "Shopping Cart",
        "description": "Client-side shopping cart with add, remove, update quantity, and clear cart functionality",
        "files": [
          "src/context/CartContext.tsx",
          "src/app/cart/page.tsx"
        ]
      },
      {
        "name": "Product Catalog",
        "description": "Product listing with filtering, search, categories, and product detail pages with variations (size, color, stock)",
        "files": [
          "src/app/products/page.tsx",
          "src/app/products/[id]/page.tsx",
          "src/context/ProductContext.tsx",
          "src/components/ProductCard.tsx",
          "src/components/ProductFilters.tsx",
          "src/app/api/products/route.ts"
        ]
      },
      {
        "name": "Checkout",
        "description": "Checkout flow with customer information collection and order placement",
        "files": [
          "src/app/checkout/page.tsx"
        ]
      },
      {
        "name": "Order Management",
        "description": "Order tracking, status updates, and order history for customers",
        "files": [
          "src/app/account/orders/page.tsx",
          "src/app/api/orders/route.ts"
        ]
      },
      {
        "name": "Admin Dashboard",
        "description": "Admin panel for managing products, orders, users, offers, and sales analytics",
        "files": [
          "src/app/admin/page.tsx",
          "src/app/admin/layout.tsx",
          "src/app/admin/products/page.tsx",
          "src/app/admin/orders/page.tsx",
          "src/app/admin/users/page.tsx",
          "src/app/admin/offers/page.tsx",
          "src/app/admin/sales/page.tsx"
        ]
      },
      {
        "name": "User Account",
        "description": "User profile management with addresses and order history",
        "files": [
          "src/app/account/page.tsx",
          "src/app/account/addresses/page.tsx",
          "src/app/account/orders/page.tsx"
        ]
      },
      {
        "name": "Offers & Promotions",
        "description": "Special offers and promotional banners display",
        "files": [
          "src/components/OffersSection.tsx",
          "src/app/api/offers/route.ts"
        ]
      },
      {
        "name": "Hero Carousel",
        "description": "Homepage hero section with image carousel",
        "files": [
          "src/components/HeroCarousel.tsx"
        ]
      },
      {
        "name": "Navigation & Layout",
        "description": "Header with navigation, cart icon, user menu, and footer with links",
        "files": [
          "src/components/Header.tsx",
          "src/components/Footer.tsx",
          "src/app/layout.tsx"
        ]
      },
      {
        "name": "Static Pages",
        "description": "Informational pages including FAQs, contact, shipping, returns, privacy policy, and terms",
        "files": [
          "src/app/faqs/page.tsx",
          "src/app/contact/page.tsx",
          "src/app/shipping/page.tsx",
          "src/app/returns/page.tsx",
          "src/app/privacy/page.tsx",
          "src/app/terms/page.tsx"
        ]
      },
      {
        "name": "Invoice Generation",
        "description": "Invoice component for order receipts",
        "files": [
          "src/components/Invoice.tsx"
        ]
      },
      {
        "name": "API Health Check",
        "description": "Health check endpoint for monitoring",
        "files": [
          "src/app/api/health/route.ts"
        ]
      },
      {
        "name": "Utilities",
        "description": "Shared utilities including validators, rate limiting, logging, and helper functions",
        "files": [
          "src/lib/validators.ts",
          "src/lib/rate-limit.ts",
          "src/lib/logger.ts",
          "src/lib/utils.ts",
          "src/lib/types.ts",
          "src/lib/data.ts"
        ]
      }
    ]
  }
}
